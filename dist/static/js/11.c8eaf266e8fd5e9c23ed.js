webpackJsonp([11],{"6GES":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={name:"userDetail",data:function(){return{id:"",page:1,pageSize:10,total:0,list:[],userInfo:{},finished:{},columns:[{title:"序号",type:"index",align:"center"},{title:"练习内容",key:"practiceMap.resourceName",align:"center",render:function(e,t){return e("div",{},t.row.practiceMap.resourceName)}},{title:"类型",key:"type",align:"center",render:function(e,t){return e("div",{},1==t.row.type?"音频":2==t.row.type?"视频":3==t.row.type?"电子书":4==t.row.type?"问卷":5==t.row.type?"表单":6==t.row.type?"小游戏":"")}},{title:"评价",key:"userEmail",align:"center"},{title:"阶段",key:"practiceMap.verbalName",align:"center",render:function(e,t){return e("div",{},t.row.practiceMap.verbalName)}},{title:"用时",key:"practiceMap.usedTime",align:"center",render:function(e,t){return e("div",{},t.row.practiceMap.usedTime)}},{title:"完成时间",key:"practiceMap.endTime",align:"center",render:function(e,t){return e("div",{},t.row.practiceMap.endTime)}}],data1:[{evaluationName:"测评",resultList:[{time:"2019-12-03 15:35:41",resultExplanList:[{score:6,explan:"编辑维度1解释与建议3",dimensionName:"编辑维度1"},{score:4,explan:"维度2解释与建议1",dimensionName:"编辑维度2"},{score:5,explan:"维度3解释与建议1",dimensionName:"编辑维度3"},{score:0,dimensionName:"维度1"}]},{time:"2019-12-03 16:35:41",resultExplanList:[{score:6,explan:"编辑维度1解释与建议3",dimensionName:"编辑维度1"},{score:4,explan:"维度2解释与建议1",dimensionName:"编辑维度2"},{score:5,explan:"维度3解释与建议1",dimensionName:"编辑维度3"},{score:0,dimensionName:"维度1"}]},{time:"2019-12-03 17:35:41",resultExplanList:[{score:6,explan:"编辑维度1解释与建议3",dimensionName:"编辑维度1"},{score:4,explan:"维度2解释与建议1",dimensionName:"编辑维度2"},{score:5,explan:"维度3解释与建议1",dimensionName:"编辑维度3"},{score:0,dimensionName:"维度1"}]},{time:"2019-12-03 18:35:50",resultExplanList:[{score:6,explan:"编辑维度1解释与建议3",dimensionName:"编辑维度1"},{score:4,explan:"维度2解释与建议1",dimensionName:"编辑维度2"},{score:5,explan:"维度3解释与建议1",dimensionName:"编辑维度3"},{score:0,dimensionName:"维度1"}]}]},{evaluationName:"维度31",resultList:[{time:"2019-12-03 20:50:36",resultExplanList:[{score:6,explan:"可以",dimensionName:"焦虑"},{score:4,explan:"不错",dimensionName:"忧愁"}]},{time:"2019-12-03 21:51:39",resultExplanList:[{score:8,explan:"可以",dimensionName:"焦虑"},{score:5,explan:"不错",dimensionName:"忧愁"}]}]},{evaluationName:"维度31",resultList:[{time:"2019-12-03 20:50:36",resultExplanList:[{score:6,explan:"可以",dimensionName:"焦虑"},{score:4,explan:"不错",dimensionName:"忧愁"}]},{time:"2019-12-03 21:51:39",resultExplanList:[{score:8,explan:"可以",dimensionName:"焦虑"},{score:5,explan:"不错",dimensionName:"忧愁"}]},{time:"2019-12-03 21:51:39",resultExplanList:[{score:8,explan:"可以",dimensionName:"焦虑"},{score:5,explan:"不错",dimensionName:"忧愁"}]},{time:"2019-12-03 21:51:39",resultExplanList:[{score:8,explan:"可以",dimensionName:"焦虑"},{score:5,explan:"不错",dimensionName:"忧愁"}]},{time:"2019-12-03 21:51:39",resultExplanList:[{score:8,explan:"可以",dimensionName:"焦虑"},{score:5,explan:"不错",dimensionName:"忧愁"}]}]}],columns1:[{title:"序号",type:"index",align:"center",width:50},{title:"问卷",key:"evaluationName",align:"center",width:100}],data2:[],evaluationId:"",data3:{userTime:"",time:"",list:[]}}},methods:{changePage:function(e){this.page=e,this.getFinished()},getUserInfo:function(){var e=this;this.$axios.post("api/user/getUserInfo",{userId:this.id}).then(function(t){e.userInfo=t.data.data})},getFinished:function(){var e=this;this.$axios.post("api/user/getUserVerbal",{userId:this.id,page:this.page}).then(function(t){e.finished=t.data.data,e.total=e.finished.userConsultRecordIPage.total,e.list=e.finished.userConsultRecordIPage.records})},getResult:function(){var e=this;this.$axios.post("api/user/getUserResult",{userId:this.id}).then(function(t){console.log(t),e.data1=t.data.data,e.data2=t.data.data,e.data1.length&&e.changeTable(e.data1)})},resultAnalyze:function(e,t){var n=this;this.$axios.post("/api/evaluation/getUserEvaluation",{evaluationId:e,userId:t}).then(function(e){n.data3=e.data.data,console.log("data3",n.data3),n.getLine()})},changeTable:function(e){var t=this,n=0,a=0;e.forEach(function(e,t){e.resultList.length>n&&(n=e.resultList.length,a=t)}),console.log(a),e.forEach(function(e,t){e.resultList.forEach(function(e,t){e.status="",e.resultExplanList.forEach(function(t,n){e.status+="维度名称:"+t.dimensionName+" <br>得分:"+t.score+" <br> 维度解释:"+t.explan+" <br/> <br>"})})}),e[a].resultList.forEach(function(e,n){t.columns1.push({title:"第"+(n+1)+"次测评结果",align:"center",key:"resultList"+n,render:function(e,t){return e("div",{domProps:{innerHTML:t.row["resultList"+n]}})},width:300})}),console.log(this.columns1),e.forEach(function(e,t){e.resultList.forEach(function(t,n){e["resultList"+n]=t.status})}),console.log("data1",e)},select:function(e){this.evaluationId=e,this.resultAnalyze(this.evaluationId,this.id)},getLine:function(){var e=document.getElementById("resultCompare");console.log("dom",e);var t=this.$echarts.init(document.getElementById("resultCompare"));t.clear(),console.log("this.data3",this.data3),console.log("myChart",t);var n=[];for(var a in this.data3)n.push(String(Number(a)+1));console.log("x",n);var s={tooltip:{trigger:"axis"},legend:{data:[],bottom:0},grid:{left:"3%",right:"4%",bottom:"10%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:n},yAxis:{type:"value"},series:[]};s.legend.data=this.data3[0].list.map(function(e){return e.dimensionName}),s.legend.data.forEach(function(e){s.series.push({name:e,type:"line",data:[]})}),this.data3.forEach(function(e){e.list.forEach(function(e){s.series.forEach(function(t){t.name==e.dimensionName&&t.data.push(e.score)})})}),console.log("option",s),t.setOption(s)}},mounted:function(){this.id=this.$route.query.id,this.getUserInfo(),this.getFinished(),this.getResult()}},s={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Row",[n("Col",{attrs:{span:"24"}},[n("Card",[n("p",{attrs:{slot:"title"},slot:"title"},[e._v("基本信息")]),e._v(" "),n("p",{staticClass:"row1"},[n("span",[e._v("用户昵称："+e._s(e.userInfo.userName))]),e._v(" "),n("span",[e._v("性别："+e._s(1==e.userInfo.sex?"男":"女"))]),e._v(" "),n("span",[e._v("单位："+e._s(e.userInfo.unit))]),e._v(" "),n("span",[e._v("职级："+e._s(1==e.userInfo.rank?"普通":2==e.userInfo.rank?"处级":3==e.userInfo.rank?"局级":4==e.userInfo.rank?"局级以上":""))]),e._v(" "),n("span",[e._v("职称："+e._s(1==e.userInfo.jobTitle?"其他":2==e.userInfo.jobTitle?"中级":3==e.userInfo.jobTitle?"副高":4==e.userInfo.jobTitle?"正高":""))])]),e._v(" "),n("p",{staticClass:"row2"},[n("span",[e._v("岗位类型："+e._s(1==e.userInfo.jobType?"科研":2==e.userInfo.jobType?"管理":3==e.userInfo.jobType?"支撑":"columns"))]),e._v(" "),n("span",[e._v("婚姻状况："+e._s(1==e.userInfo.marriage?"未婚":2==e.userInfo.marriage?"已婚":3==e.userInfo.marriage?"离异":4==e.userInfo.marriage?"丧偶":""))]),e._v(" "),n("span",[e._v("子女状况："+e._s(1==e.userInfo.child?"无":2==e.userInfo.child?"一个子女":3==e.userInfo.child?"两个子女":4==e.userInfo.child?"两个以上":""))]),e._v(" "),n("span",[e._v("年收入："+e._s(1==e.userInfo.income?"15万以下":2==e.userInfo.income?"15-30万":3==e.userInfo.income?"30-50万":4==e.userInfo.income?"50-70万":5==e.userInfo.income?"70-100万":6==e.userInfo.income?"100万以上":""))]),e._v(" "),n("span",[e._v("注册邮箱："+e._s(e.userInfo.userEmail))])])])],1)],1),e._v(" "),n("br"),e._v(" "),n("Row",[n("Col",{attrs:{span:"24"}},[n("Card",[n("p",[n("strong",[e._v("当前所处阶段：")]),e._v("\n          "+e._s(e.finished.breakVerbalName)+"\n        ")]),e._v(" "),n("p",{staticStyle:{"padding-top":"20px"}},[n("span",[n("strong",[e._v("中断练习：")]),e._v("\n            "+e._s(e.finished.breakResourceName)+"\n          ")]),e._v(" "),n("span",{staticStyle:{"padding-left":"60px"}},[n("strong",[e._v("类型：")]),e._v("\n            "+e._s(1==e.finished.breakResourceType?"音频":2==e.finished.breakResourceType?"视频":3==e.finished.breakResourceType?"电子书":4==e.finished.breakResourceType?"问卷":5==e.finished.breakResourceType?"表单":"")+"\n          ")]),e._v(" "),n("span",{staticStyle:{"padding-left":"60px"}},[n("strong",[e._v("中断时间：")]),e._v("\n            "+e._s(e.finished.breakTime)+"\n          ")])])])],1)],1),e._v(" "),n("br"),e._v(" "),n("Row",[n("Col",{attrs:{span:"24"}},[n("Card",[n("p",{staticStyle:{display:"flex","justify-content":"space-between"},attrs:{slot:"title"},slot:"title"},[e._v("\n          已完成练习（"+e._s(e.total)+"）\n          "),n("span",[e._v("评价平均得分：4.0")])]),e._v(" "),n("Table",{attrs:{border:"",columns:e.columns,data:e.list}}),e._v(" "),n("br"),e._v(" "),n("div",{staticStyle:{"text-align":"right"}},[n("Page",{attrs:{total:e.total,current:e.page,"show-total":""},on:{"on-change":e.changePage}})],1)],1)],1)],1),e._v(" "),n("br"),e._v(" "),n("Row",[n("Col",{attrs:{span:"24"}},[n("Card",{staticStyle:{"overflow-x":"scroll","min-height":"100px"}},[n("p",{attrs:{slot:"title"},slot:"title"},[e._v("问卷结果比较（"+e._s(e.data2.length)+"）")]),e._v(" "),0==e.data2.length?n("div",[e._v("还没有结果")]):e._e(),e._v(" "),0!=e.data2.length?n("div",[n("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择"},on:{"on-change":e.select},model:{value:e.evaluationId,callback:function(t){e.evaluationId=t},expression:"evaluationId"}},e._l(e.data2,function(t){return n("Option",{key:t.evaluationId,attrs:{value:t.evaluationId}},[e._v(e._s(t.evaluationName))])}),1),e._v(" "),n("br"),e._v(" "),n("div",{staticStyle:{width:"100%",height:"300px"},attrs:{id:"resultCompare"}})],1):e._e()])],1)],1),e._v(" "),n("br"),e._v(" "),n("Row",[n("Col",{attrs:{span:"24"}},[n("Card",{staticStyle:{"overflow-x":"scroll"}},[n("p",{attrs:{slot:"title"},slot:"title"},[e._v("问卷测评结果（"+e._s(e.data1.length)+"）")]),e._v(" "),0==e.data1.length?n("div",[e._v("还没有结果")]):e._e(),e._v(" "),0!=e.data1.length?n("Table",{attrs:{columns:e.columns1,data:e.data1}}):e._e()],1)],1)],1)],1)},staticRenderFns:[]};var i=n("C7Lr")(a,s,!1,function(e){n("MqxE")},null,null);t.default=i.exports},MqxE:function(e,t){}});
//# sourceMappingURL=11.c8eaf266e8fd5e9c23ed.js.map